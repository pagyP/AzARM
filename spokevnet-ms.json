{
    "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "location": {
            "defaultValue": "uksouth",
            "type": "string"
        },
        "vnetname": {
            "defaultValue": "gsk-corp-platforms-devtest-us6-vnet00001",
            "type": "string"
        },
        "vnet_prefix": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "dnsserver1": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "dnsserver2": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "appgw-subnet-prefix": {
            "defaultValue": "gsk-corp-platforms-devtest-us6-vnet00001",
            "type": "string"
        },
        "external-subnet-prefix": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "internal-subnet-prefix": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "mgmt-subnet-prefix": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "ase-subnet-prefix": {
            "defaultValue": "10.41.64.0/20",
            "type": "string"
        },
        "Environment": {
            "defaultValue": "",
            "type": "string"
        },
        "DefaultRoute_nextHopIpAddress": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet_Route_nextHopIpAddress": {
            "defaultValue": "",
            "type": "string"
        },
        "Peri_outside_nextHopIpAddress": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet1_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet2_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet3_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet4_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet5_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet6_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet7_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet8_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet9_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet10_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet11_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet12_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet13_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet14_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet15_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet16_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet17_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet18_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet19_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet20_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet21_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet22_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet23_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet24_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet25_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet26_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet27_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet28_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet29_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet30_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet31_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet32_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet33_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet34_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet35_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet36_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet37_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet38_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet39_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet40_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet41_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet42_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet43_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet44_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet45_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet46_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet47_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet48_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet49_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "Intranet50_AddressPrefix": {
            "defaultValue": "",
            "type": "string"
        },
        "NSG_array_GSKsubnets": {
            "defaultValue": [
            ],
            "type": "array"
        },
        "GLB_PJQIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_CAIIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_DUBIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BBYIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_ESPIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MTVIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_ZEIIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_VERIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MBSIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SOLIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_OSLIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BUDIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MNCIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_TCAIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_JOHIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_VERFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MOSIFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SANIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_ATHIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "SHRD_hcmfwibrw1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BUCIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MAKIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BEIIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_PTKIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_GUZIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MUMIFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_PULIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SDAIFW1_External": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SGHIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BANIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_HONIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SEOIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_RJ1IFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_LAVIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BKKIFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_LEVIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_GURIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_ISTIFW1_External": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_DUBIFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_KIVIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_PANIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SJBIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SAJIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BOGIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_QUIIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_MUMIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BUAIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_HGAIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_HGAIFW1_external_IW": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_JACIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SIWIFW1_external_1": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_LIMIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_CARIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SILIFW2_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_LISIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_POZIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_DUGIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_PZNIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_JDTIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_DBCIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB-RMMIFW1.external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BOG_external_interface2": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BUA_external_interface2": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB-GURIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB-MUMIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_QBCFW_External": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_WAVFW_External": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB-JACIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_HDBIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_WARIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_ERMIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_GBWIFW1-external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_HMAIFW1-external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_UFEIFW1-external": {
            "defaultValue": "",
            "type": "string"
        },
        "SG1IFW1_ext": {
            "defaultValue": "",
            "type": "string"
        },
        "algfwibrw1": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BREIFW1-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_BREIFW1-Pulse-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "HALIFW1-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "SNDIFW1-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_STVIFW1_Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_STVIFW1-Pulse-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "STVVSX_S3FW_external": {
            "defaultValue": "",
            "type": "string"
        },
        "halfwirw1_NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "sndfwirw1_NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "l3bfwirw1_NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "ixefwirw1_NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "KAR-DIA-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "ILU-DIA-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "NAI-DIA-Hide-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "MISFW1-DIA-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "SHRD_XOCIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "BORIFW1-External": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_GNBIFW1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "JEDFW1-NAT": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_SJB_external_interface2": {
            "defaultValue": "",
            "type": "string"
        },
        "SHRD_XOCIFW1_external2": {
            "defaultValue": "",
            "type": "string"
        },
        "BARIF11-Baranzante": {
            "defaultValue": "",
            "type": "string"
        },
        "SHRD_iptibrw1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "rixifw1_external": {
            "defaultValue": "",
            "type": "string"
        },
        "GLB_DUBIFW2_external_new": {
            "defaultValue": "",
            "type": "string"
        },
        "halifw1-iecs-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "sndifw1-iecs-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "halifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "sndifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "ixeifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "l3bifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "stvifw1-pubwifi-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "misifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "xocifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "xocifw1-ipbw-hidenat2": {
            "defaultValue": "",
            "type": "string"
        },
        "sg1ifw1-ipbw-hidenat": {
            "defaultValue": "",
            "type": "string"
        },
        "sghifw1-pubwifi-hidenat": {
            "defaultValue": "",
            "type": "string"
        }
    },
    "variables": {
        "mgmt_routes":[
            {"name": "[concat(variables('routeTable_name_mgmt'),'-default')]", "addressPrefix": "0.0.0.0/0", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('DefaultRoute_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-internal')]", "addressPrefix": "[parameters('internal-subnet-prefix')]", "nextHopType": "VnetLocal","nextHopIpAddress": ""},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-external')]", "addressPrefix": "[parameters('external-subnet-prefix')]", "nextHopType": "VnetLocal","nextHopIpAddress": ""},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-appgw')]",    "addressPrefix": "[parameters('appgw-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-ase')]", "addressPrefix": "[parameters('ase-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet02')]", "addressPrefix": "[parameters('Intranet2_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet03')]", "addressPrefix": "[parameters('Intranet3_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet04')]", "addressPrefix": "[parameters('Intranet4_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet05')]", "addressPrefix": "[parameters('Intranet5_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet06')]", "addressPrefix": "[parameters('Intranet6_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet07')]", "addressPrefix": "[parameters('Intranet7_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet08')]", "addressPrefix": "[parameters('Intranet8_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet09')]", "addressPrefix": "[parameters('Intranet9_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet10')]", "addressPrefix": "[parameters('Intranet10_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet11')]", "addressPrefix": "[parameters('Intranet11_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet12')]", "addressPrefix": "[parameters('Intranet12_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet13')]", "addressPrefix": "[parameters('Intranet13_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet14')]", "addressPrefix": "[parameters('Intranet14_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet15')]", "addressPrefix": "[parameters('Intranet15_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet16')]", "addressPrefix": "[parameters('Intranet16_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet17')]", "addressPrefix": "[parameters('Intranet17_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet18')]", "addressPrefix": "[parameters('Intranet18_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet19')]", "addressPrefix": "[parameters('Intranet19_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet20')]", "addressPrefix": "[parameters('Intranet20_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet21')]", "addressPrefix": "[parameters('Intranet21_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet22')]", "addressPrefix": "[parameters('Intranet22_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet23')]", "addressPrefix": "[parameters('Intranet23_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet24')]", "addressPrefix": "[parameters('Intranet24_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet25')]", "addressPrefix": "[parameters('Intranet25_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet26')]", "addressPrefix": "[parameters('Intranet26_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet27')]", "addressPrefix": "[parameters('Intranet27_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet28')]", "addressPrefix": "[parameters('Intranet28_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet29')]", "addressPrefix": "[parameters('Intranet29_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet30')]", "addressPrefix": "[parameters('Intranet30_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet31')]", "addressPrefix": "[parameters('Intranet31_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet32')]", "addressPrefix": "[parameters('Intranet32_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet33')]", "addressPrefix": "[parameters('Intranet33_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet34')]", "addressPrefix": "[parameters('Intranet34_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet35')]", "addressPrefix": "[parameters('Intranet35_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet36')]", "addressPrefix": "[parameters('Intranet36_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet37')]", "addressPrefix": "[parameters('Intranet37_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet38')]", "addressPrefix": "[parameters('Intranet38_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet39')]", "addressPrefix": "[parameters('Intranet39_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet40')]", "addressPrefix": "[parameters('Intranet40_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet41')]", "addressPrefix": "[parameters('Intranet41_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet42')]", "addressPrefix": "[parameters('Intranet42_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet43')]", "addressPrefix": "[parameters('Intranet43_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet44')]", "addressPrefix": "[parameters('Intranet44_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet45')]", "addressPrefix": "[parameters('Intranet45_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet46')]", "addressPrefix": "[parameters('Intranet46_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet47')]", "addressPrefix": "[parameters('Intranet47_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet48')]", "addressPrefix": "[parameters('Intranet48_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
           // {"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet49')]", "addressPrefix": "[parameters('Intranet49_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet50')]", "addressPrefix": "[parameters('Intranet50_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
            ],
        "ase_routes":[
             {"name": "[concat(variables('routeTable_name_ase'),'-default')]", "addressPrefix": "0.0.0.0/0", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('DefaultRoute_nextHopIpAddress')]"},
             {"name": "[concat(variables('routeTable_name_ase'),'-mgmt')]", "addressPrefix": "[parameters('mgmt-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-internal')]", "addressPrefix": "[parameters('internal-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-external')]", "addressPrefix": "[parameters('external-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-appgw')]",    "addressPrefix": "[parameters('appgw-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet02')]", "addressPrefix": "[parameters('Intranet2_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet03')]", "addressPrefix": "[parameters('Intranet3_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet04')]", "addressPrefix": "[parameters('Intranet4_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet05')]", "addressPrefix": "[parameters('Intranet5_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet06')]", "addressPrefix": "[parameters('Intranet6_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet07')]", "addressPrefix": "[parameters('Intranet7_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet08')]", "addressPrefix": "[parameters('Intranet8_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet09')]", "addressPrefix": "[parameters('Intranet9_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet10')]", "addressPrefix": "[parameters('Intranet10_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet11')]", "addressPrefix": "[parameters('Intranet11_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet12')]", "addressPrefix": "[parameters('Intranet12_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet13')]", "addressPrefix": "[parameters('Intranet13_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet14')]", "addressPrefix": "[parameters('Intranet14_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet15')]", "addressPrefix": "[parameters('Intranet15_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet16')]", "addressPrefix": "[parameters('Intranet16_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet17')]", "addressPrefix": "[parameters('Intranet17_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet18')]", "addressPrefix": "[parameters('Intranet18_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet19')]", "addressPrefix": "[parameters('Intranet19_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet20')]", "addressPrefix": "[parameters('Intranet20_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet21')]", "addressPrefix": "[parameters('Intranet21_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet22')]", "addressPrefix": "[parameters('Intranet22_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet23')]", "addressPrefix": "[parameters('Intranet23_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet24')]", "addressPrefix": "[parameters('Intranet24_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet25')]", "addressPrefix": "[parameters('Intranet25_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet26')]", "addressPrefix": "[parameters('Intranet26_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet27')]", "addressPrefix": "[parameters('Intranet27_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet28')]", "addressPrefix": "[parameters('Intranet28_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet29')]", "addressPrefix": "[parameters('Intranet29_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet30')]", "addressPrefix": "[parameters('Intranet30_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet31')]", "addressPrefix": "[parameters('Intranet31_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet32')]", "addressPrefix": "[parameters('Intranet32_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet33')]", "addressPrefix": "[parameters('Intranet33_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet34')]", "addressPrefix": "[parameters('Intranet34_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet35')]", "addressPrefix": "[parameters('Intranet35_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet36')]", "addressPrefix": "[parameters('Intranet36_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet37')]", "addressPrefix": "[parameters('Intranet37_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet38')]", "addressPrefix": "[parameters('Intranet38_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet39')]", "addressPrefix": "[parameters('Intranet39_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet40')]", "addressPrefix": "[parameters('Intranet40_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet41')]", "addressPrefix": "[parameters('Intranet41_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet42')]", "addressPrefix": "[parameters('Intranet42_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet43')]", "addressPrefix": "[parameters('Intranet43_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet44')]", "addressPrefix": "[parameters('Intranet44_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet45')]", "addressPrefix": "[parameters('Intranet45_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet46')]", "addressPrefix": "[parameters('Intranet46_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet47')]", "addressPrefix": "[parameters('Intranet47_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_ase'),'-Intranet48')]", "addressPrefix": "[parameters('Intranet48_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet49')]", "addressPrefix": "[parameters('Intranet49_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_mgmt'),'-Intranet50')]", "addressPrefix": "[parameters('Intranet50_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "asemgmt-13.64.115.203", "addressPrefix": "13.64.115.203/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.66.140.0", "addressPrefix": "13.66.140.0/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.67.8.128", "addressPrefix": "13.67.8.128/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.69.64.128", "addressPrefix": "13.69.64.128/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.69.227.128", "addressPrefix": "13.69.227.128/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.70.73.128", "addressPrefix": "13.70.73.128/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.71.170.64", "addressPrefix": "13.71.170.64/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.71.194.129", "addressPrefix": "13.71.194.129/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.75.127.117", "addressPrefix": "13.75.127.117/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.77.50.128", "addressPrefix": "13.77.50.128/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.89.171.0", "addressPrefix": "13.89.171.0/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.94.141.115", "addressPrefix": "13.94.141.115/32", "nextHopType": "Internet","nextHopIpAddress": ""},
            {"name": "asemgmt-13.94.143.126", "addressPrefix": "13.94.143.126/32",  "nextHopType": "Internet", "nextHopIpAddress": ""}         
        ],
        "internal_routes":[
            {"name": "[concat(variables('routeTable_name_internal'),'-default')]", "addressPrefix": "0.0.0.0/0", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('DefaultRoute_nextHopIpAddress')]"},
             {"name": "[concat(variables('routeTable_name_internal'),'-mgmt')]", "addressPrefix": "[parameters('mgmt-subnet-prefix')]", "nextHopType": "VnetLocal","nextHopIpAddress": ""},
            {"name": "[concat(variables('routeTable_name_internal'),'-external')]", "addressPrefix": "[parameters('external-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-appgw')]",    "addressPrefix": "[parameters('appgw-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
             {"name": "[concat(variables('routeTable_name_internal'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet02')]", "addressPrefix": "[parameters('Intranet2_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet03')]", "addressPrefix": "[parameters('Intranet3_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet04')]", "addressPrefix": "[parameters('Intranet4_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet05')]", "addressPrefix": "[parameters('Intranet5_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet06')]", "addressPrefix": "[parameters('Intranet6_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet07')]", "addressPrefix": "[parameters('Intranet7_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet08')]", "addressPrefix": "[parameters('Intranet8_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet09')]", "addressPrefix": "[parameters('Intranet9_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet10')]", "addressPrefix": "[parameters('Intranet10_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet11')]", "addressPrefix": "[parameters('Intranet11_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet12')]", "addressPrefix": "[parameters('Intranet12_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet13')]", "addressPrefix": "[parameters('Intranet13_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet14')]", "addressPrefix": "[parameters('Intranet14_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet15')]", "addressPrefix": "[parameters('Intranet15_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet16')]", "addressPrefix": "[parameters('Intranet16_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet17')]", "addressPrefix": "[parameters('Intranet17_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet18')]", "addressPrefix": "[parameters('Intranet18_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet19')]", "addressPrefix": "[parameters('Intranet19_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet20')]", "addressPrefix": "[parameters('Intranet20_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet21')]", "addressPrefix": "[parameters('Intranet21_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet22')]", "addressPrefix": "[parameters('Intranet22_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet23')]", "addressPrefix": "[parameters('Intranet23_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet24')]", "addressPrefix": "[parameters('Intranet24_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet25')]", "addressPrefix": "[parameters('Intranet25_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet26')]", "addressPrefix": "[parameters('Intranet26_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet27')]", "addressPrefix": "[parameters('Intranet27_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet28')]", "addressPrefix": "[parameters('Intranet28_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet29')]", "addressPrefix": "[parameters('Intranet29_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet30')]", "addressPrefix": "[parameters('Intranet30_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet31')]", "addressPrefix": "[parameters('Intranet31_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet32')]", "addressPrefix": "[parameters('Intranet32_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet33')]", "addressPrefix": "[parameters('Intranet33_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet34')]", "addressPrefix": "[parameters('Intranet34_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet35')]", "addressPrefix": "[parameters('Intranet35_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet36')]", "addressPrefix": "[parameters('Intranet36_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet37')]", "addressPrefix": "[parameters('Intranet37_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet38')]", "addressPrefix": "[parameters('Intranet38_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet39')]", "addressPrefix": "[parameters('Intranet39_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet40')]", "addressPrefix": "[parameters('Intranet40_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet41')]", "addressPrefix": "[parameters('Intranet41_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet42')]", "addressPrefix": "[parameters('Intranet42_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet43')]", "addressPrefix": "[parameters('Intranet43_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet44')]", "addressPrefix": "[parameters('Intranet44_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet45')]", "addressPrefix": "[parameters('Intranet45_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet46')]", "addressPrefix": "[parameters('Intranet46_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet47')]", "addressPrefix": "[parameters('Intranet47_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_internal'),'-Intranet48')]", "addressPrefix": "[parameters('Intranet48_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
            //{"name": "[concat(variables('routeTable_name_internal'),'-Intranet49')]", "addressPrefix": "[parameters('Intranet49_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_internal'),'-Intranet50')]", "addressPrefix": "[parameters('Intranet50_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
        ],
        "external_routes":[
             {"name": "[concat(variables('routeTable_name_external'),'-default')]", "addressPrefix": "0.0.0.0/0", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('DefaultRoute_nextHopIpAddress')]"},
             {"name": "[concat(variables('routeTable_name_external'),'-external')]", "addressPrefix": "[parameters('external-subnet-prefix')]", "nextHopType": "VnetLocal","nextHopIpAddress": ""},
            {"name": "[concat(variables('routeTable_name_external'),'-ase')]", "addressPrefix": "[parameters('ase-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-internal')]",    "addressPrefix": "[parameters('internal-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-appgw')]",    "addressPrefix": "[parameters('appgw-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('DefaultRoute_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet02')]", "addressPrefix": "[parameters('Intranet2_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet03')]", "addressPrefix": "[parameters('Intranet3_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet04')]", "addressPrefix": "[parameters('Intranet4_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet05')]", "addressPrefix": "[parameters('Intranet5_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet06')]", "addressPrefix": "[parameters('Intranet6_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet07')]", "addressPrefix": "[parameters('Intranet7_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet08')]", "addressPrefix": "[parameters('Intranet8_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet09')]", "addressPrefix": "[parameters('Intranet9_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet10')]", "addressPrefix": "[parameters('Intranet10_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet11')]", "addressPrefix": "[parameters('Intranet11_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet12')]", "addressPrefix": "[parameters('Intranet12_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet13')]", "addressPrefix": "[parameters('Intranet13_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet14')]", "addressPrefix": "[parameters('Intranet14_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet15')]", "addressPrefix": "[parameters('Intranet15_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet16')]", "addressPrefix": "[parameters('Intranet16_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet17')]", "addressPrefix": "[parameters('Intranet17_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet18')]", "addressPrefix": "[parameters('Intranet18_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet19')]", "addressPrefix": "[parameters('Intranet19_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet20')]", "addressPrefix": "[parameters('Intranet20_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet21')]", "addressPrefix": "[parameters('Intranet21_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet22')]", "addressPrefix": "[parameters('Intranet22_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet23')]", "addressPrefix": "[parameters('Intranet23_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet24')]", "addressPrefix": "[parameters('Intranet24_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet25')]", "addressPrefix": "[parameters('Intranet25_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet26')]", "addressPrefix": "[parameters('Intranet26_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet27')]", "addressPrefix": "[parameters('Intranet27_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet28')]", "addressPrefix": "[parameters('Intranet28_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet29')]", "addressPrefix": "[parameters('Intranet29_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet30')]", "addressPrefix": "[parameters('Intranet30_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet31')]", "addressPrefix": "[parameters('Intranet31_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet32')]", "addressPrefix": "[parameters('Intranet32_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet33')]", "addressPrefix": "[parameters('Intranet33_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet34')]", "addressPrefix": "[parameters('Intranet34_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet35')]", "addressPrefix": "[parameters('Intranet35_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet36')]", "addressPrefix": "[parameters('Intranet36_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet37')]", "addressPrefix": "[parameters('Intranet37_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet38')]", "addressPrefix": "[parameters('Intranet38_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet39')]", "addressPrefix": "[parameters('Intranet39_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet40')]", "addressPrefix": "[parameters('Intranet40_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet41')]", "addressPrefix": "[parameters('Intranet41_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet42')]", "addressPrefix": "[parameters('Intranet42_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet43')]", "addressPrefix": "[parameters('Intranet43_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet44')]", "addressPrefix": "[parameters('Intranet44_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet45')]", "addressPrefix": "[parameters('Intranet45_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet46')]", "addressPrefix": "[parameters('Intranet46_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet47')]", "addressPrefix": "[parameters('Intranet47_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_external'),'-Intranet48')]", "addressPrefix": "[parameters('Intranet48_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
            //{"name": "[concat(variables('routeTable_name_external'),'-Intranet49')]", "addressPrefix": "[parameters('Intranet49_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_external'),'-Intranet50')]", "addressPrefix": "[parameters('Intranet50_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Intranet_Route_nextHopIpAddress')]"}
        ],
        "appgw_routes":[
            {"name": "[concat(variables('routeTable_name_appgw'),'-default')]", "addressPrefix": "0.0.0.0/0", "nextHopType": "Internet","nextHopIpAddress": ""},
             {"name": "[concat(variables('routeTable_name_appgw'),'-mgmt')]", "addressPrefix": "[parameters('mgmt-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-ase')]", "addressPrefix": "[parameters('ase-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-internal')]",    "addressPrefix": "[parameters('internal-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-appgw')]",    "addressPrefix": "[parameters('appgw-subnet-prefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet02')]", "addressPrefix": "[parameters('Intranet2_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet03')]", "addressPrefix": "[parameters('Intranet3_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet04')]", "addressPrefix": "[parameters('Intranet4_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet05')]", "addressPrefix": "[parameters('Intranet5_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_appgw'),'-Intranet01')]", "addressPrefix": "[parameters('Intranet1_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet06')]", "addressPrefix": "[parameters('Intranet6_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet07')]", "addressPrefix": "[parameters('Intranet8_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet09')]", "addressPrefix": "[parameters('Intranet9_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet10')]", "addressPrefix": "[parameters('Intranet10_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet11')]", "addressPrefix": "[parameters('Intranet11_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet12')]", "addressPrefix": "[parameters('Intranet12_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet13')]", "addressPrefix": "[parameters('Intranet13_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet14')]", "addressPrefix": "[parameters('Intranet14_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet15')]", "addressPrefix": "[parameters('Intranet16_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet17')]", "addressPrefix": "[parameters('Intranet17_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet18')]", "addressPrefix": "[parameters('Intranet18_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet19')]", "addressPrefix": "[parameters('Intranet19_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet20')]", "addressPrefix": "[parameters('Intranet20_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet21')]", "addressPrefix": "[parameters('Intranet21_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet22')]", "addressPrefix": "[parameters('Intranet22_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet23')]", "addressPrefix": "[parameters('Intranet23_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet24')]", "addressPrefix": "[parameters('Intranet24_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet25')]", "addressPrefix": "[parameters('Intranet25_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet26')]", "addressPrefix": "[parameters('Intranet26_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet27')]", "addressPrefix": "[parameters('Intranet27_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet28')]", "addressPrefix": "[parameters('Intranet28_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet29')]", "addressPrefix": "[parameters('Intranet29_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet30')]", "addressPrefix": "[parameters('Intranet30_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet31')]", "addressPrefix": "[parameters('Intranet31_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet32')]", "addressPrefix": "[parameters('Intranet32_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet33')]", "addressPrefix": "[parameters('Intranet33_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet34')]", "addressPrefix": "[parameters('Intranet34_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet35')]", "addressPrefix": "[parameters('Intranet35_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet36')]", "addressPrefix": "[parameters('Intranet36_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet37')]", "addressPrefix": "[parameters('Intranet37_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet38')]", "addressPrefix": "[parameters('Intranet38_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet39')]", "addressPrefix": "[parameters('Intranet39_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet40')]", "addressPrefix": "[parameters('Intranet40_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet41')]", "addressPrefix": "[parameters('Intranet41_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet42')]", "addressPrefix": "[parameters('Intranet42_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet43')]", "addressPrefix": "[parameters('Intranet43_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet44')]", "addressPrefix": "[parameters('Intranet44_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet45')]", "addressPrefix": "[parameters('Intranet45_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet46')]", "addressPrefix": "[parameters('Intranet46_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet47')]", "addressPrefix": "[parameters('Intranet47_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            {"name": "[concat(variables('routeTable_name_appgw'),'-Intranet48')]", "addressPrefix": "[parameters('Intranet48_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"}
            //{"name": "[concat(variables('routeTable_name_appgw'),'-Intranet49')]", "addressPrefix": "[parameters('Intranet49_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"},
            //{"name": "[concat(variables('routeTable_name_appgw'),'-Intranet50')]", "addressPrefix": "[parameters('Intranet50_AddressPrefix')]", "nextHopType": "VirtualAppliance","nextHopIpAddress": "[parameters('Peri_outside_nextHopIpAddress')]"}
        ],
        "subnets":[
             {"name": "[variables('appgw-subnet-name')]", "addressPrefix": "[parameters('appgw-subnet-prefix')]", "routetable": {"id": "[resourceId('Microsoft.Network/routeTables', variables('routeTable_name_appgw'))]"}, "networksecuritygroup": {"id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('nsg_name_appgw'))]"}, "serviceEndpoints": ""},
            {"name": "[variables('external-subnet-name')]", "addressPrefix": "[parameters('external-subnet-prefix')]", "routetable": {"id": "[resourceId('Microsoft.Network/routeTables', variables('routeTable_name_external'))]"}, "networksecuritygroup": {"id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('nsg_name_external'))]"}, "serviceEndpoints": ""},
            {"name": "[variables('internal-subnet-name')]", "addressPrefix": "[parameters('internal-subnet-prefix')]", "routetable": {"id": "[resourceId('Microsoft.Network/routeTables', variables('routeTable_name_internal'))]"}, "networksecuritygroup": {"id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('nsg_name_internal'))]"}, "serviceEndpoints": ""},
            {"name": "[variables('mgmt-subnet-name')]", "addressPrefix": "[parameters('mgmt-subnet-prefix')]", "routetable": {"id": "[resourceId('Microsoft.Network/routeTables', variables('routeTable_name_mgmt'))]"}, "networksecuritygroup": {"id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('nsg_name_mgmt'))]"}, "serviceEndpoints": ""},
            {"name": "[variables('ase-subnet-name')]", "addressPrefix": "[parameters('ase-subnet-prefix')]", "routetable": {"id": "[resourceId('Microsoft.Network/routeTables', variables('routeTable_name_ase'))]"}, "networksecuritygroup": {"id": "[resourceId('Microsoft.Network/networkSecurityGroups', variables('nsg_name_ase'))]"}, "serviceEndpoints": [{"service": "Microsoft.sql", "locations": ["*"]}, {"service": "Microsoft.Storage", "locations":["*"]}, {"service": "Microsoft.eventhub", "locations": ["*"]}]}
        ],
        "appgw-subnet-name": "[concat(parameters('vnetname'),'-sub00001-appgw')]",
        "external-subnet-name": "[concat(parameters('vnetname'),'-sub00002-external')]",
        "internal-subnet-name": "[concat(parameters('vnetname'),'-sub00003-internal')]",
        "mgmt-subnet-name": "[concat(parameters('vnetname'),'-sub00004-mgmt')]",
        "ase-subnet-name": "[concat(parameters('vnetname'),'-sub00005-ase')]",
        "routeTable_name_appgw": "[concat(parameters('vnetname'),'-sub00001-appgw-rt001')]",
        "routeTable_name_external": "[concat(parameters('vnetname'),'-sub00002-external-rt001')]",
        "routeTable_name_internal": "[concat(parameters('vnetname'),'-sub00003-internal-rt001')]",
        "routeTable_name_mgmt": "[concat(parameters('vnetname'),'-sub00004-mgmt-rt001')]",
        "routeTable_name_ase": "[concat(parameters('vnetname'),'-sub00005-ase-rt001')]",
        "nsg_name_appgw": "[concat(parameters('vnetname'),'-sub00001-appgw-nsg001')]",
        "nsg_name_external": "[concat(parameters('vnetname'),'-sub00002-external-nsg001')]",
        "nsg_name_internal": "[concat(parameters('vnetname'),'-sub00003-internal-nsg001')]",
        "nsg_name_mgmt": "[concat(parameters('vnetname'),'-sub00004-mgmt-nsg001')]",
        "nsg_name_ase": "[concat(parameters('vnetname'),'-sub00005-ase-nsg001')]"
    },
    "resources": [
        {
            "type": "Microsoft.Network/virtualNetworks",
            "name": "[parameters('vnetname')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "addressSpace": {
                    "addressPrefixes": [
                        "[parameters('vnet_prefix')]"
                    ]
                },
                "dhcpOptions": {
                    "dnsServers": [
                        "[parameters('dnsserver1')]",
                        "[parameters('dnsserver2')]"
                    ]
                },
                "enableDdosProtection": false,
                "enableVmProtection": false,
                "copy": [
                    {
                        "name": "subnets",
                        "count": "[length(variables('subnets'))]",
                        "input": { 
                        "name": "[variables('subnets')[copyIndex('subnets')].name]",
                        "properties": {
                            "addressPrefix": "[variables('subnets')[copyIndex('subnets')].addressPrefix]",
                            "routeTable":  "[variables('subnets')[copyIndex('subnets')].routeTable]",
                            "networkSecurityGroup":  "[variables('subnets')[copyIndex('subnets')].networkSecurityGroup]",
                            "serviceEndpoints": "[variables('subnets')[copyIndex('subnets')].serviceEndpoints]"    
                        }
                        }
                    }
                ]
            },
            "dependsOn": [
                "[concat('Microsoft.Network/routeTables/', variables('routeTable_name_mgmt'))]",
                "[concat('Microsoft.Network/routeTables/', variables('routeTable_name_ase'))]",
                "[concat('Microsoft.Network/routeTables/', variables('routeTable_name_internal'))]",
                "[concat('Microsoft.Network/routeTables/', variables('routeTable_name_external'))]",
                "[concat('Microsoft.Network/routeTables/', variables('routeTable_name_appgw'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsg_name_mgmt'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsg_name_ase'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsg_name_internal'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsg_name_external'))]",
                "[concat('Microsoft.Network/networkSecurityGroups/', variables('nsg_name_appgw'))]"
            ]
        },
        {
            "type": "Microsoft.Network/routeTables",
            "name": "[variables('routeTable_name_mgmt')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Routing",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "disableBgpRoutePropagation": true,
                "copy": [
                    {
                        "name": "routes",
                        "count": "[length(variables('mgmt_routes'))]",
                        "input": {
                            "name": "[variables('mgmt_routes')[copyIndex('routes')].name]",
                            "properties": {
                            "addressPrefix":              "[variables('mgmt_routes')[copyIndex('routes')].addressPrefix]",
                            "nextHopType":                 "[variables('mgmt_routes')[copyIndex('routes')].nextHopType]",
                            "NextHopIPAddress":          "[variables('mgmt_routes')[copyIndex('routes')].nextHopIPAddress]"
                            }
                        }   
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "type": "Microsoft.Network/routeTables",
            "name": "[variables('routeTable_name_ase')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Routing",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "disableBgpRoutePropagation": true,
                "copy": [
                    {
                        "name": "routes",
                        "count": "[length(variables('ase_routes'))]",
                        "input": {
                            "name": "[variables('ase_routes')[copyIndex('routes')].name]",
                            "properties": {
                            "addressPrefix":              "[variables('ase_routes')[copyIndex('routes')].addressPrefix]",
                            "nextHopType":                 "[variables('ase_routes')[copyIndex('routes')].nextHopType]",
                            "NextHopIPAddress":          "[variables('ase_routes')[copyIndex('routes')].nextHopIPAddress]"
                            }
                        }   
                    }
                ]
            },
           
                   
            "dependsOn": [
            ]
        },
        {
            "type": "Microsoft.Network/routeTables",
            "name": "[variables('routeTable_name_internal')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Routing",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "disableBgpRoutePropagation": true,
                "copy": [
                    {
                        "name": "routes",
                        "count": "[length(variables('internal_routes'))]",
                        "input": {
                            "name": "[variables('internal_routes')[copyIndex('routes')].name]",
                            "properties": {
                            "addressPrefix":              "[variables('internal_routes')[copyIndex('routes')].addressPrefix]",
                            "nextHopType":                 "[variables('internal_routes')[copyIndex('routes')].nextHopType]",
                            "NextHopIPAddress":          "[variables('internal_routes')[copyIndex('routes')].nextHopIPAddress]"
                            }
                        }   
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "type": "Microsoft.Network/routeTables",
            "name": "[variables('routeTable_name_external')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Routing",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "disableBgpRoutePropagation": true,
                "copy": [
                    {
                        "name": "routes",
                        "count": "[length(variables('external_routes'))]",
                        "input": {
                            "name": "[variables('external_routes')[copyIndex('routes')].name]",
                            "properties": {
                            "addressPrefix":              "[variables('external_routes')[copyIndex('routes')].addressPrefix]",
                            "nextHopType":                 "[variables('external_routes')[copyIndex('routes')].nextHopType]",
                            "NextHopIPAddress":          "[variables('external_routes')[copyIndex('routes')].nextHopIPAddress]"
                            }
                        }   
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "type": "Microsoft.Network/routeTables",
            "name": "[variables('routeTable_name_appgw')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Routing",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "disableBgpRoutePropagation": true,
                "copy": [
                    {
                        "name": "routes",
                        "count": "[length(variables('appgw_routes'))]",
                        "input": {
                            "name": "[variables('appgw_routes')[copyIndex('routes')].name]",
                            "properties": {
                            "addressPrefix":              "[variables('appgw_routes')[copyIndex('routes')].addressPrefix]",
                            "nextHopType":                 "[variables('appgw_routes')[copyIndex('routes')].nextHopType]",
                            "NextHopIPAddress":          "[variables('appgw_routes')[copyIndex('routes')].nextHopIPAddress]"
                            }
                        }   
                    }
                ]
            },
            "dependsOn": []
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[variables('nsg_name_appgw')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network Security",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "resourceGuid": "05e6456f-fe89-4c0f-b826-cc4365cd7a2c",
                "securityRules": [
                    {
                        "name": "Inbound_http_https",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "Internet",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "destinationPortRanges": [
                                "80",
                                "443"
                            ]
                        }
                    },
                    {
                        "name": "appgw_health",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "65200-65535",
                            "sourceAddressPrefix": "Internet",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "Azure_LB_In",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "Inbound_default_drop",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "Internet",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 103,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "outbound_internet",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-external",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Outbound",
                            "sourcePortRanges": [
                            ],
                            "destinationPortRanges": [
                            ]
                        }
                    },
                    {
                        "name": "outbound-ase",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Outbound",
                            "sourcePortRanges": [
                            ],
                            "destinationPortRanges": [
                            ]
                        }
                    },
                    {
                        "name": "outbound-default-drop",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 103,
                            "direction": "Outbound"
                        }
                    }
                ]
            },
            "dependsOn": [
            ]
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[variables('nsg_name_external')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network Security",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "resourceGuid": "05e6456f-fe89-4c0f-b826-cc4365cd7a2c",
                "securityRules": [
                    {
                        "name": "inbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Inbound",
                            "sourcePortRanges": [
                            ],
                            "destinationPortRanges": [
                                "22",
                                "3389"
                            ]
                        }
                    },
                    {
                        "name": "inbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "outbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 100,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 101,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Outbound"
                        }
                    }
                ]
            },
            "dependsOn": [
            ]
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[variables('nsg_name_internal')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network Security",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "securityRules": [
                    {
                        "name": "inbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 100,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Inbound",
                            "destinationPortRanges": [
                                "22",
                                "3389"
                            ]
                        }
                    },
                    {
                        "name": "inbound-external",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "outbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 100,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 101,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Outbound"
                        }
                    }
                ]
            },
            "dependsOn": [
            ]
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[variables('nsg_name_mgmt')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network Security",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "securityRules": [
                    {
                        "name": "inbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 100,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 101,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-external",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 102,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "outbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 100,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Outbound",
                            "destinationPortRanges": [
                                "22",
                                "3389"
                            ]
                        }
                    },
                    {
                        "name": "outbound-external",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('external-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Outbound",
                            "destinationPortRanges": [
                                "22",
                                "3389"
                            ]
                        }
                    },
                    {
                        "name": "outbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "access": "Allow",
                            "priority": 103,
                            "direction": "Outbound"
                        }
                    }
                ]
            },
            "dependsOn": [
            ]
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "name": "[variables('nsg_name_ase')]",
            "apiVersion": "2018-02-01",
            "location": "[parameters('location')]",
            "tags": {
                "Application Name": "Network Security",
                "Business Owner": "Platform-Cloud Engineering",
                "Business Unit ID": "Platform",
                "Environment": "[parameters('Environment')]",
                "Resource Function": "Networking"
            },
            "scale": null,
            "properties": {
                "securityRules": [
                    {
                        "name": "inbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Inbound",
                            "sourcePortRanges": [
                            ]
                        }
                    },
                    {
                        "name": "inbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 104,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "inbound-AppServiceManagement",
                        "properties": {
                            "protocol": "Tcp",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "AppServiceManagement",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 105,
                            "direction": "Inbound",
                            "destinationPortRanges": [
                                "454",
                                "455"
                            ]
                        }
                    },
                    {
                        "name": "inbound-ASEintrasubnet",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 106,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "Azure_LB_In",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "16001",
                            "sourceAddressPrefix": "AzureLoadBalancer",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 107,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "Inbound_default_drop",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Deny",
                            "priority": 108,
                            "direction": "Inbound"
                        }
                    },
                    {
                        "name": "outbound-appgw",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('appgw-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-mgmt",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('mgmt-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 101,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-internal",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('internal-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 102,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-GSK",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefixes": "[parameters('NSG_array_GSKsubnets')]",
                            "access": "Allow",
                            "priority": 104,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound-ASEintrasubnet",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "access": "Allow",
                            "priority": 105,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound_internet",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "Internet",
                            "access": "Allow",
                            "priority": 106,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound_eventhub_endpoint",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "EventHub",
                            "access": "Allow",
                            "priority": 107,
                            "direction": "Outbound",
                            "destinationPortRanges": [
                                "5671",
                                "5672",
                                "443"
                            ]
                        }
                    },
                    {
                        "name": "outbound_sql_endpoint",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "1433",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "SQL",
                            "access": "Allow",
                            "priority": 108,
                            "direction": "Outbound"
                        }
                    },
                    {
                        "name": "outbound_storage_endpoint",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "Storage",
                            "access": "Allow",
                            "priority": 109,
                            "direction": "Outbound",
                            "destinationPortRanges": [
                                "80",
                                "443"
                            ]
                        }
                    },
                    {
                        "name": "Outbound_default_drop",
                        "properties": {
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "[parameters('ase-subnet-prefix')]",
                            "destinationAddressPrefix": "*",
                            "access": "Deny",
                            "priority": 110,
                            "direction": "Outbound"
                        }
                    }
                ]
            },
            "dependsOn": [
            ]
        }
    ]
}